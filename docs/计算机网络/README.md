### 七层网络模型
应用层、表示层、会话层、传输层、网络层、数据链路层、物理层
1. TCP：面向连接、传输可靠(保证数据正确性,保证数据顺序)、用于传输大量数据(流模式)、速度慢，建立连接需要开销较多(时间，系统资源) 。（应用场景：HTTP，HTTP，邮件)
> 连接时“三次握手”
> 断开时“四次挥手”
> 拥塞控制算法，滑动窗口算法
2. UDP：面向非连接、传输不可靠、用于传输少量数据(数据包模式)、速度快 ,可能丢包（应用场景：即时通讯）
### https 加密解密过程
HTTPS并不是一个新协议，而是HTTP + SSL
SSL(Secure Socket Layer)：是Netscape公司设计的主要用于WEB的安全传输协议。它在https协议栈中负责实现上面提到的加密层。

客户端先向服务器端索要公钥，然后用公钥加密信息，服务器收到密文后，用自己的私钥解密。服务器公钥放在数字证书中。



服务器把自己的公开密钥登录至数字证书认证机构。


数字证书认证机构用自己的私有密钥向服务器的公开密码署数字签名并颁发公钥证书。


客户端拿到服务器的公钥证书后，使用数字签名认证机构的公开密钥，向数字证书认证机构验证公钥证书上的数字签名，以确认服务器的公开密钥的真实性。


使用服务器的公开密钥对报文加密后发送。


服务器用私有密钥对报文解密。
### url到加载渲染全过程

DNS域名解析。
TCP三次握手，建立接连。
发送HTTP请求报文。
服务器处理请求返回响应报文。
浏览器解析渲染页面。
四次挥手，断开连接。

DNS 协议提供通过域名查找 IP地址，或逆向从 IP地址反查域名的服务。
DNS 是一个网络服务器，我们的域名解析简单来说就是在 DNS 上记录一条信息记录。
TCP 三次握手，四次挥手：握手挥手都是客户端发起，客户端结束。 三次握手与四次挥手详解
### 负载均衡
请求在进入到真正的应用服务器前，可能还会先经过负责负载均衡的机器，它的作用是将请求合理地分配到多个服务器上，转发HTTP请求；同时具备具备防攻击等功能。可分为DNS负载均衡，HTTP负载均衡，IP负载均衡，链路层负载均衡等。
Web Server： 请求经过前面的负载均衡后，将进入到对应服务器上的 Web Server，比如 Apache、Tomcat
反向代理是工作在 HTTP 上的，一般都是 Nginx。全国各地访问baidu.com就肯定要通过代理访问，不可能都访问百度的那台服务器。  （VPN正向代理，代理客户端）
浏览器解析渲染过程：
返回的html传递到浏览器后，如果有gzip会先解压，找出文件编码格式，外链资源的加载
html从上往下解析，遇到js，css停止解析渲染，直到js执行完成。
解析HTML，构建DOM树
解析CSS，生成CSS规则树
合并DOM树和CSS规则，生成render树去渲染
不会引起DOM树变化，页面布局变化，改变元素样式的行为叫重绘
引起DOM树结构变化，页面布局变化的行为叫回流
GUI渲染线程负责渲染浏览器界面HTML元素,当界面需要 重绘(Repaint) 或由于某种操作引发 回流(reflow) 时,该线程就会执行。在Javascript引擎运行脚本期间,GUI渲染线程都是处于挂起状态的,也就是说被”冻结”了. 直到JS程序执行完成，才会接着执行。因此如果JS执行的时间过长，这样就会造成页面的渲染不连贯，导致页面渲染加载阻塞的感觉。JavaScript是可操纵DOM的，如果在修改这些元素属性同时渲染界面，渲染前后元素数据可能不一致
GPU绘制
多进程的浏览器：主控进程，插件进程，GPU，tab页（浏览器内核）
多线程的浏览器内核：每一个tab页面可以看作是浏览器内核进程，然后这个进程是多线程的。
它有几大类子线程：
GUI线程
JS引擎线程
事件触发线程
定时器线程
HTTP请求线程

### http1 跟HTTP2
http2
多路复用：相同域名多个请求，共享同一个TCP连接，降低了延迟
请求优先级：给每个request设置优先级
二进制传输；之前是用纯文本传输
数据流：数据包不是按顺序发送，对数据包做标记。每个请求或回应的所有数据包成为一个数据流，
服务端推送：可以主动向客户端发送消息。
头部压缩：减少包的大小跟数量
HTTP/1.1 中的管道（ pipeline）传输中如果有一个请求阻塞了，那么队列后请求也统统被阻塞住了
HTTP/2 多请求复用一个TCP连接，一旦发生丢包，就会阻塞住所有的 HTTP 请求。
HTTP/3 把 HTTP 下层的 TCP 协议改成了 UDP！
http1 keep alive 串行传输
http 中的 keep-alive 有什么作用
响应头中设置 keep-alive 可以在一个 TCP 连接上发送多个 http 请求
浏览器缓存策略
强缓存：cache-control；no-cache max-age=<10000000>；expires；其中Cache-Conctrol的优先级比Expires高；
控制强制缓存的字段分别是Expires和Cache-Control，如果客户端的时间小于Expires的值时，直接使用缓存结果。
协商缓存：Last-Modified / If-Modified-Since和Etag / If-None-Match，其中Etag / If-None-Match的优先级比Last-Modified /
首次请求，服务器会在返回的响应头中加上Last-Modified字段，表示资源最后修改的时间。
浏览器再次请求时，请求头中会带上If-Modified-Since字段，比较两个字段，一样则证明资源未修改，返回304，否则重新返回资源，状态码为200；
垃圾回收机制：
标记清除：进入执行环境的变量都被标记，然后执行完，清除这些标记跟变量。 查看变量是否被引用。
引用计数：会记录每个值被引用的次数，当引用次数变成0后，就会被释放掉。
前端安全
同源策略：如果两个 URL 的协议、域名和端口都相同，我们就称这两个 URL 同源。 因为浏览器有cookies。


XSS：跨站脚本攻击(Cross Site Scripting) input, textarea等所有可能输入文本信息的区域，输入<script src="http://恶意网站"></script>等，提交后信息会存在服务器中 。


CSRF：跨站请求伪造 。引诱用户打开黑客的网站，在黑客的网站中，利用用户的登录状态发起的跨站请求。
A站点img的src=B站点的请求接口，可以访问；解决：referer携带请求来源
访问该页面后，表单自动提交, 模拟完成了一次POST操作,发送post请求
解决：后端注入一个随机串到Cookie，前端请求取出随机串添加传给后端。


http 劫持：电信运营商劫持


SQL注入


点击劫持：诱使用户点击看似无害的按钮（实则点击了透明 iframe 中的按钮） ，解决后端请求头加一个字段 X-Frame-Options


文件上传漏洞 ：服务器未校验上传的文件
