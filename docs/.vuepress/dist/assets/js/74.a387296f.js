(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{474:function(e,t,s){"use strict";s.r(t);var a=s(45),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"body-parser"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#body-parser"}},[e._v("#")]),e._v(" body-parser")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://npmjs.org/package/body-parser",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/v/body-parser.svg",alt:"NPM Version"}}),s("OutboundLink")],1),e._v(" "),s("a",{attrs:{href:"https://npmjs.org/package/body-parser",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/dm/body-parser.svg",alt:"NPM Downloads"}}),s("OutboundLink")],1),e._v(" "),s("a",{attrs:{href:"https://travis-ci.org/expressjs/body-parser",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/travis/expressjs/body-parser/master.svg",alt:"Build Status"}}),s("OutboundLink")],1),e._v(" "),s("a",{attrs:{href:"https://coveralls.io/r/expressjs/body-parser?branch=master",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/coveralls/expressjs/body-parser/master.svg",alt:"Test Coverage"}}),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("Node.js body parsing middleware.")]),e._v(" "),s("p",[e._v("Parse incoming request bodies in a middleware before your handlers, available\nunder the "),s("code",[e._v("req.body")]),e._v(" property.")]),e._v(" "),s("p",[s("strong",[e._v("Note")]),e._v(" As "),s("code",[e._v("req.body")]),e._v("'s shape is based on user-controlled input, all\nproperties and values in this object are untrusted and should be validated\nbefore trusting. For example, "),s("code",[e._v("req.body.foo.toString()")]),e._v(" may fail in multiple\nways, for example the "),s("code",[e._v("foo")]),e._v(" property may not be there or may not be a string,\nand "),s("code",[e._v("toString")]),e._v(" may not be a function and instead a string or other user input.")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://nodejs.org/en/docs/guides/anatomy-of-an-http-transaction/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Learn about the anatomy of an HTTP transaction in Node.js"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("p",[s("em",[e._v("This does not handle multipart bodies")]),e._v(", due to their complex and typically\nlarge nature. For multipart bodies, you may be interested in the following\nmodules:")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.npmjs.org/package/busboy#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("busboy"),s("OutboundLink")],1),e._v(" and\n"),s("a",{attrs:{href:"https://www.npmjs.org/package/connect-busboy#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("connect-busboy"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://www.npmjs.org/package/multiparty#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("multiparty"),s("OutboundLink")],1),e._v(" and\n"),s("a",{attrs:{href:"https://www.npmjs.org/package/connect-multiparty#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("connect-multiparty"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://www.npmjs.org/package/formidable#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("formidable"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://www.npmjs.org/package/multer#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("multer"),s("OutboundLink")],1)])]),e._v(" "),s("p",[e._v("This module provides the following parsers:")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#bodyparserjsonoptions"}},[e._v("JSON body parser")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#bodyparserrawoptions"}},[e._v("Raw body parser")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#bodyparsertextoptions"}},[e._v("Text body parser")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#bodyparserurlencodedoptions"}},[e._v("URL-encoded form body parser")])])]),e._v(" "),s("p",[e._v("Other body parsers you might be interested in:")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.npmjs.org/package/body#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("body"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://www.npmjs.org/package/co-body#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("co-body"),s("OutboundLink")],1)])]),e._v(" "),s("h2",{attrs:{id:"installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[e._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" body-parser\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[e._v("#")]),e._v(" API")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" bodyParser "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'body-parser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("The "),s("code",[e._v("bodyParser")]),e._v(" object exposes various factories to create middlewares. All\nmiddlewares will populate the "),s("code",[e._v("req.body")]),e._v(" property with the parsed body when\nthe "),s("code",[e._v("Content-Type")]),e._v(" request header matches the "),s("code",[e._v("type")]),e._v(" option, or an empty\nobject ("),s("code",[e._v("{}")]),e._v(") if there was no body to parse, the "),s("code",[e._v("Content-Type")]),e._v(" was not matched,\nor an error occurred.")]),e._v(" "),s("p",[e._v("The various errors returned by this module are described in the\n"),s("a",{attrs:{href:"#errors"}},[e._v("errors section")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"bodyparser-json-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bodyparser-json-options"}},[e._v("#")]),e._v(" bodyParser.json([options])")]),e._v(" "),s("p",[e._v("Returns middleware that only parses "),s("code",[e._v("json")]),e._v(" and only looks at requests where\nthe "),s("code",[e._v("Content-Type")]),e._v(" header matches the "),s("code",[e._v("type")]),e._v(" option. This parser accepts any\nUnicode encoding of the body and supports automatic inflation of "),s("code",[e._v("gzip")]),e._v(" and\n"),s("code",[e._v("deflate")]),e._v(" encodings.")]),e._v(" "),s("p",[e._v("A new "),s("code",[e._v("body")]),e._v(" object containing the parsed data is populated on the "),s("code",[e._v("request")]),e._v("\nobject after the middleware (i.e. "),s("code",[e._v("req.body")]),e._v(").")]),e._v(" "),s("h4",{attrs:{id:"options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[e._v("#")]),e._v(" Options")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("json")]),e._v(" function takes an optional "),s("code",[e._v("options")]),e._v(" object that may contain any of\nthe following keys:")]),e._v(" "),s("h5",{attrs:{id:"inflate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inflate"}},[e._v("#")]),e._v(" inflate")]),e._v(" "),s("p",[e._v("When set to "),s("code",[e._v("true")]),e._v(", then deflated (compressed) bodies will be inflated; when\n"),s("code",[e._v("false")]),e._v(", deflated bodies are rejected. Defaults to "),s("code",[e._v("true")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"limit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#limit"}},[e._v("#")]),e._v(" limit")]),e._v(" "),s("p",[e._v("Controls the maximum request body size. If this is a number, then the value\nspecifies the number of bytes; if it is a string, the value is passed to the\n"),s("a",{attrs:{href:"https://www.npmjs.com/package/bytes",target:"_blank",rel:"noopener noreferrer"}},[e._v("bytes"),s("OutboundLink")],1),e._v(" library for parsing. Defaults\nto "),s("code",[e._v("'100kb'")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"reviver"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reviver"}},[e._v("#")]),e._v(" reviver")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("reviver")]),e._v(" option is passed directly to "),s("code",[e._v("JSON.parse")]),e._v(" as the second\nargument. You can find more information on this argument\n"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Example.3A_Using_the_reviver_parameter",target:"_blank",rel:"noopener noreferrer"}},[e._v("in the MDN documentation about JSON.parse"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"strict"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#strict"}},[e._v("#")]),e._v(" strict")]),e._v(" "),s("p",[e._v("When set to "),s("code",[e._v("true")]),e._v(", will only accept arrays and objects; when "),s("code",[e._v("false")]),e._v(" will\naccept anything "),s("code",[e._v("JSON.parse")]),e._v(" accepts. Defaults to "),s("code",[e._v("true")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"type"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#type"}},[e._v("#")]),e._v(" type")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("type")]),e._v(" option is used to determine what media type the middleware will\nparse. This option can be a string, array of strings, or a function. If not a\nfunction, "),s("code",[e._v("type")]),e._v(" option is passed directly to the\n"),s("a",{attrs:{href:"https://www.npmjs.org/package/type-is#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("type-is"),s("OutboundLink")],1),e._v(" library and this can\nbe an extension name (like "),s("code",[e._v("json")]),e._v("), a mime type (like "),s("code",[e._v("application/json")]),e._v("), or\na mime type with a wildcard (like "),s("code",[e._v("*/*")]),e._v(" or "),s("code",[e._v("*/json")]),e._v("). If a function, the "),s("code",[e._v("type")]),e._v("\noption is called as "),s("code",[e._v("fn(req)")]),e._v(" and the request is parsed if it returns a truthy\nvalue. Defaults to "),s("code",[e._v("application/json")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"verify"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#verify"}},[e._v("#")]),e._v(" verify")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("verify")]),e._v(" option, if supplied, is called as "),s("code",[e._v("verify(req, res, buf, encoding)")]),e._v(",\nwhere "),s("code",[e._v("buf")]),e._v(" is a "),s("code",[e._v("Buffer")]),e._v(" of the raw request body and "),s("code",[e._v("encoding")]),e._v(" is the\nencoding of the request. The parsing can be aborted by throwing an error.")]),e._v(" "),s("h3",{attrs:{id:"bodyparser-raw-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bodyparser-raw-options"}},[e._v("#")]),e._v(" bodyParser.raw([options])")]),e._v(" "),s("p",[e._v("Returns middleware that parses all bodies as a "),s("code",[e._v("Buffer")]),e._v(" and only looks at\nrequests where the "),s("code",[e._v("Content-Type")]),e._v(" header matches the "),s("code",[e._v("type")]),e._v(" option. This\nparser supports automatic inflation of "),s("code",[e._v("gzip")]),e._v(" and "),s("code",[e._v("deflate")]),e._v(" encodings.")]),e._v(" "),s("p",[e._v("A new "),s("code",[e._v("body")]),e._v(" object containing the parsed data is populated on the "),s("code",[e._v("request")]),e._v("\nobject after the middleware (i.e. "),s("code",[e._v("req.body")]),e._v("). This will be a "),s("code",[e._v("Buffer")]),e._v(" object\nof the body.")]),e._v(" "),s("h4",{attrs:{id:"options-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options-2"}},[e._v("#")]),e._v(" Options")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("raw")]),e._v(" function takes an optional "),s("code",[e._v("options")]),e._v(" object that may contain any of\nthe following keys:")]),e._v(" "),s("h5",{attrs:{id:"inflate-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inflate-2"}},[e._v("#")]),e._v(" inflate")]),e._v(" "),s("p",[e._v("When set to "),s("code",[e._v("true")]),e._v(", then deflated (compressed) bodies will be inflated; when\n"),s("code",[e._v("false")]),e._v(", deflated bodies are rejected. Defaults to "),s("code",[e._v("true")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"limit-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#limit-2"}},[e._v("#")]),e._v(" limit")]),e._v(" "),s("p",[e._v("Controls the maximum request body size. If this is a number, then the value\nspecifies the number of bytes; if it is a string, the value is passed to the\n"),s("a",{attrs:{href:"https://www.npmjs.com/package/bytes",target:"_blank",rel:"noopener noreferrer"}},[e._v("bytes"),s("OutboundLink")],1),e._v(" library for parsing. Defaults\nto "),s("code",[e._v("'100kb'")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"type-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#type-2"}},[e._v("#")]),e._v(" type")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("type")]),e._v(" option is used to determine what media type the middleware will\nparse. This option can be a string, array of strings, or a function.\nIf not a function, "),s("code",[e._v("type")]),e._v(" option is passed directly to the\n"),s("a",{attrs:{href:"https://www.npmjs.org/package/type-is#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("type-is"),s("OutboundLink")],1),e._v(" library and this\ncan be an extension name (like "),s("code",[e._v("bin")]),e._v("), a mime type (like\n"),s("code",[e._v("application/octet-stream")]),e._v("), or a mime type with a wildcard (like "),s("code",[e._v("*/*")]),e._v(" or\n"),s("code",[e._v("application/*")]),e._v("). If a function, the "),s("code",[e._v("type")]),e._v(" option is called as "),s("code",[e._v("fn(req)")]),e._v("\nand the request is parsed if it returns a truthy value. Defaults to\n"),s("code",[e._v("application/octet-stream")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"verify-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#verify-2"}},[e._v("#")]),e._v(" verify")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("verify")]),e._v(" option, if supplied, is called as "),s("code",[e._v("verify(req, res, buf, encoding)")]),e._v(",\nwhere "),s("code",[e._v("buf")]),e._v(" is a "),s("code",[e._v("Buffer")]),e._v(" of the raw request body and "),s("code",[e._v("encoding")]),e._v(" is the\nencoding of the request. The parsing can be aborted by throwing an error.")]),e._v(" "),s("h3",{attrs:{id:"bodyparser-text-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bodyparser-text-options"}},[e._v("#")]),e._v(" bodyParser.text([options])")]),e._v(" "),s("p",[e._v("Returns middleware that parses all bodies as a string and only looks at\nrequests where the "),s("code",[e._v("Content-Type")]),e._v(" header matches the "),s("code",[e._v("type")]),e._v(" option. This\nparser supports automatic inflation of "),s("code",[e._v("gzip")]),e._v(" and "),s("code",[e._v("deflate")]),e._v(" encodings.")]),e._v(" "),s("p",[e._v("A new "),s("code",[e._v("body")]),e._v(" string containing the parsed data is populated on the "),s("code",[e._v("request")]),e._v("\nobject after the middleware (i.e. "),s("code",[e._v("req.body")]),e._v("). This will be a string of the\nbody.")]),e._v(" "),s("h4",{attrs:{id:"options-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options-3"}},[e._v("#")]),e._v(" Options")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("text")]),e._v(" function takes an optional "),s("code",[e._v("options")]),e._v(" object that may contain any of\nthe following keys:")]),e._v(" "),s("h5",{attrs:{id:"defaultcharset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#defaultcharset"}},[e._v("#")]),e._v(" defaultCharset")]),e._v(" "),s("p",[e._v("Specify the default character set for the text content if the charset is not\nspecified in the "),s("code",[e._v("Content-Type")]),e._v(" header of the request. Defaults to "),s("code",[e._v("utf-8")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"inflate-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inflate-3"}},[e._v("#")]),e._v(" inflate")]),e._v(" "),s("p",[e._v("When set to "),s("code",[e._v("true")]),e._v(", then deflated (compressed) bodies will be inflated; when\n"),s("code",[e._v("false")]),e._v(", deflated bodies are rejected. Defaults to "),s("code",[e._v("true")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"limit-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#limit-3"}},[e._v("#")]),e._v(" limit")]),e._v(" "),s("p",[e._v("Controls the maximum request body size. If this is a number, then the value\nspecifies the number of bytes; if it is a string, the value is passed to the\n"),s("a",{attrs:{href:"https://www.npmjs.com/package/bytes",target:"_blank",rel:"noopener noreferrer"}},[e._v("bytes"),s("OutboundLink")],1),e._v(" library for parsing. Defaults\nto "),s("code",[e._v("'100kb'")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"type-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#type-3"}},[e._v("#")]),e._v(" type")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("type")]),e._v(" option is used to determine what media type the middleware will\nparse. This option can be a string, array of strings, or a function. If not\na function, "),s("code",[e._v("type")]),e._v(" option is passed directly to the\n"),s("a",{attrs:{href:"https://www.npmjs.org/package/type-is#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("type-is"),s("OutboundLink")],1),e._v(" library and this can\nbe an extension name (like "),s("code",[e._v("txt")]),e._v("), a mime type (like "),s("code",[e._v("text/plain")]),e._v("), or a mime\ntype with a wildcard (like "),s("code",[e._v("*/*")]),e._v(" or "),s("code",[e._v("text/*")]),e._v("). If a function, the "),s("code",[e._v("type")]),e._v("\noption is called as "),s("code",[e._v("fn(req)")]),e._v(" and the request is parsed if it returns a\ntruthy value. Defaults to "),s("code",[e._v("text/plain")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"verify-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#verify-3"}},[e._v("#")]),e._v(" verify")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("verify")]),e._v(" option, if supplied, is called as "),s("code",[e._v("verify(req, res, buf, encoding)")]),e._v(",\nwhere "),s("code",[e._v("buf")]),e._v(" is a "),s("code",[e._v("Buffer")]),e._v(" of the raw request body and "),s("code",[e._v("encoding")]),e._v(" is the\nencoding of the request. The parsing can be aborted by throwing an error.")]),e._v(" "),s("h3",{attrs:{id:"bodyparser-urlencoded-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bodyparser-urlencoded-options"}},[e._v("#")]),e._v(" bodyParser.urlencoded([options])")]),e._v(" "),s("p",[e._v("Returns middleware that only parses "),s("code",[e._v("urlencoded")]),e._v(" bodies and only looks at\nrequests where the "),s("code",[e._v("Content-Type")]),e._v(" header matches the "),s("code",[e._v("type")]),e._v(" option. This\nparser accepts only UTF-8 encoding of the body and supports automatic\ninflation of "),s("code",[e._v("gzip")]),e._v(" and "),s("code",[e._v("deflate")]),e._v(" encodings.")]),e._v(" "),s("p",[e._v("A new "),s("code",[e._v("body")]),e._v(" object containing the parsed data is populated on the "),s("code",[e._v("request")]),e._v("\nobject after the middleware (i.e. "),s("code",[e._v("req.body")]),e._v("). This object will contain\nkey-value pairs, where the value can be a string or array (when "),s("code",[e._v("extended")]),e._v(" is\n"),s("code",[e._v("false")]),e._v("), or any type (when "),s("code",[e._v("extended")]),e._v(" is "),s("code",[e._v("true")]),e._v(").")]),e._v(" "),s("h4",{attrs:{id:"options-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options-4"}},[e._v("#")]),e._v(" Options")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("urlencoded")]),e._v(" function takes an optional "),s("code",[e._v("options")]),e._v(" object that may contain\nany of the following keys:")]),e._v(" "),s("h5",{attrs:{id:"extended"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#extended"}},[e._v("#")]),e._v(" extended")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("extended")]),e._v(" option allows to choose between parsing the URL-encoded data\nwith the "),s("code",[e._v("querystring")]),e._v(" library (when "),s("code",[e._v("false")]),e._v(") or the "),s("code",[e._v("qs")]),e._v(" library (when\n"),s("code",[e._v("true")]),e._v('). The "extended" syntax allows for rich objects and arrays to be\nencoded into the URL-encoded format, allowing for a JSON-like experience\nwith URL-encoded. For more information, please\n'),s("a",{attrs:{href:"https://www.npmjs.org/package/qs#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("see the qs library"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("p",[e._v("Defaults to "),s("code",[e._v("true")]),e._v(", but using the default has been deprecated. Please\nresearch into the difference between "),s("code",[e._v("qs")]),e._v(" and "),s("code",[e._v("querystring")]),e._v(" and choose the\nappropriate setting.")]),e._v(" "),s("h5",{attrs:{id:"inflate-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inflate-4"}},[e._v("#")]),e._v(" inflate")]),e._v(" "),s("p",[e._v("When set to "),s("code",[e._v("true")]),e._v(", then deflated (compressed) bodies will be inflated; when\n"),s("code",[e._v("false")]),e._v(", deflated bodies are rejected. Defaults to "),s("code",[e._v("true")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"limit-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#limit-4"}},[e._v("#")]),e._v(" limit")]),e._v(" "),s("p",[e._v("Controls the maximum request body size. If this is a number, then the value\nspecifies the number of bytes; if it is a string, the value is passed to the\n"),s("a",{attrs:{href:"https://www.npmjs.com/package/bytes",target:"_blank",rel:"noopener noreferrer"}},[e._v("bytes"),s("OutboundLink")],1),e._v(" library for parsing. Defaults\nto "),s("code",[e._v("'100kb'")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"parameterlimit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#parameterlimit"}},[e._v("#")]),e._v(" parameterLimit")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("parameterLimit")]),e._v(" option controls the maximum number of parameters that\nare allowed in the URL-encoded data. If a request contains more parameters\nthan this value, a 413 will be returned to the client. Defaults to "),s("code",[e._v("1000")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"type-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#type-4"}},[e._v("#")]),e._v(" type")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("type")]),e._v(" option is used to determine what media type the middleware will\nparse. This option can be a string, array of strings, or a function. If not\na function, "),s("code",[e._v("type")]),e._v(" option is passed directly to the\n"),s("a",{attrs:{href:"https://www.npmjs.org/package/type-is#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("type-is"),s("OutboundLink")],1),e._v(" library and this can\nbe an extension name (like "),s("code",[e._v("urlencoded")]),e._v("), a mime type (like\n"),s("code",[e._v("application/x-www-form-urlencoded")]),e._v("), or a mime type with a wildcard (like\n"),s("code",[e._v("*/x-www-form-urlencoded")]),e._v("). If a function, the "),s("code",[e._v("type")]),e._v(" option is called as\n"),s("code",[e._v("fn(req)")]),e._v(" and the request is parsed if it returns a truthy value. Defaults\nto "),s("code",[e._v("application/x-www-form-urlencoded")]),e._v(".")]),e._v(" "),s("h5",{attrs:{id:"verify-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#verify-4"}},[e._v("#")]),e._v(" verify")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("verify")]),e._v(" option, if supplied, is called as "),s("code",[e._v("verify(req, res, buf, encoding)")]),e._v(",\nwhere "),s("code",[e._v("buf")]),e._v(" is a "),s("code",[e._v("Buffer")]),e._v(" of the raw request body and "),s("code",[e._v("encoding")]),e._v(" is the\nencoding of the request. The parsing can be aborted by throwing an error.")]),e._v(" "),s("h2",{attrs:{id:"errors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#errors"}},[e._v("#")]),e._v(" Errors")]),e._v(" "),s("p",[e._v("The middlewares provided by this module create errors depending on the error\ncondition during parsing. The errors will typically have a "),s("code",[e._v("status")]),e._v("/"),s("code",[e._v("statusCode")]),e._v("\nproperty that contains the suggested HTTP response code, an "),s("code",[e._v("expose")]),e._v(" property\nto determine if the "),s("code",[e._v("message")]),e._v(" property should be displayed to the client, a\n"),s("code",[e._v("type")]),e._v(" property to determine the type of error without matching against the\n"),s("code",[e._v("message")]),e._v(", and a "),s("code",[e._v("body")]),e._v(" property containing the read body, if available.")]),e._v(" "),s("p",[e._v("The following are the common errors emitted, though any error can come through\nfor various reasons.")]),e._v(" "),s("h3",{attrs:{id:"content-encoding-unsupported"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#content-encoding-unsupported"}},[e._v("#")]),e._v(" content encoding unsupported")]),e._v(" "),s("p",[e._v("This error will occur when the request had a "),s("code",[e._v("Content-Encoding")]),e._v(' header that\ncontained an encoding but the "inflation" option was set to '),s("code",[e._v("false")]),e._v(". The\n"),s("code",[e._v("status")]),e._v(" property is set to "),s("code",[e._v("415")]),e._v(", the "),s("code",[e._v("type")]),e._v(" property is set to\n"),s("code",[e._v("'encoding.unsupported'")]),e._v(", and the "),s("code",[e._v("charset")]),e._v(" property will be set to the\nencoding that is unsupported.")]),e._v(" "),s("h3",{attrs:{id:"request-aborted"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-aborted"}},[e._v("#")]),e._v(" request aborted")]),e._v(" "),s("p",[e._v("This error will occur when the request is aborted by the client before reading\nthe body has finished. The "),s("code",[e._v("received")]),e._v(" property will be set to the number of\nbytes received before the request was aborted and the "),s("code",[e._v("expected")]),e._v(" property is\nset to the number of expected bytes. The "),s("code",[e._v("status")]),e._v(" property is set to "),s("code",[e._v("400")]),e._v("\nand "),s("code",[e._v("type")]),e._v(" property is set to "),s("code",[e._v("'request.aborted'")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"request-entity-too-large"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-entity-too-large"}},[e._v("#")]),e._v(" request entity too large")]),e._v(" "),s("p",[e._v('This error will occur when the request body\'s size is larger than the "limit"\noption. The '),s("code",[e._v("limit")]),e._v(" property will be set to the byte limit and the "),s("code",[e._v("length")]),e._v("\nproperty will be set to the request body's length. The "),s("code",[e._v("status")]),e._v(" property is\nset to "),s("code",[e._v("413")]),e._v(" and the "),s("code",[e._v("type")]),e._v(" property is set to "),s("code",[e._v("'entity.too.large'")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"request-size-did-not-match-content-length"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-size-did-not-match-content-length"}},[e._v("#")]),e._v(" request size did not match content length")]),e._v(" "),s("p",[e._v("This error will occur when the request's length did not match the length from\nthe "),s("code",[e._v("Content-Length")]),e._v(" header. This typically occurs when the request is malformed,\ntypically when the "),s("code",[e._v("Content-Length")]),e._v(" header was calculated based on characters\ninstead of bytes. The "),s("code",[e._v("status")]),e._v(" property is set to "),s("code",[e._v("400")]),e._v(" and the "),s("code",[e._v("type")]),e._v(" property\nis set to "),s("code",[e._v("'request.size.invalid'")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"stream-encoding-should-not-be-set"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stream-encoding-should-not-be-set"}},[e._v("#")]),e._v(" stream encoding should not be set")]),e._v(" "),s("p",[e._v("This error will occur when something called the "),s("code",[e._v("req.setEncoding")]),e._v(" method prior\nto this middleware. This module operates directly on bytes only and you cannot\ncall "),s("code",[e._v("req.setEncoding")]),e._v(" when using this module. The "),s("code",[e._v("status")]),e._v(" property is set to\n"),s("code",[e._v("500")]),e._v(" and the "),s("code",[e._v("type")]),e._v(" property is set to "),s("code",[e._v("'stream.encoding.set'")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"too-many-parameters"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#too-many-parameters"}},[e._v("#")]),e._v(" too many parameters")]),e._v(" "),s("p",[e._v("This error will occur when the content of the request exceeds the configured\n"),s("code",[e._v("parameterLimit")]),e._v(" for the "),s("code",[e._v("urlencoded")]),e._v(" parser. The "),s("code",[e._v("status")]),e._v(" property is set to\n"),s("code",[e._v("413")]),e._v(" and the "),s("code",[e._v("type")]),e._v(" property is set to "),s("code",[e._v("'parameters.too.many'")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"unsupported-charset-bogus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unsupported-charset-bogus"}},[e._v("#")]),e._v(' unsupported charset "BOGUS"')]),e._v(" "),s("p",[e._v("This error will occur when the request had a charset parameter in the\n"),s("code",[e._v("Content-Type")]),e._v(" header, but the "),s("code",[e._v("iconv-lite")]),e._v(" module does not support it OR the\nparser does not support it. The charset is contained in the message as well\nas in the "),s("code",[e._v("charset")]),e._v(" property. The "),s("code",[e._v("status")]),e._v(" property is set to "),s("code",[e._v("415")]),e._v(", the\n"),s("code",[e._v("type")]),e._v(" property is set to "),s("code",[e._v("'charset.unsupported'")]),e._v(", and the "),s("code",[e._v("charset")]),e._v(" property\nis set to the charset that is unsupported.")]),e._v(" "),s("h3",{attrs:{id:"unsupported-content-encoding-bogus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unsupported-content-encoding-bogus"}},[e._v("#")]),e._v(' unsupported content encoding "bogus"')]),e._v(" "),s("p",[e._v("This error will occur when the request had a "),s("code",[e._v("Content-Encoding")]),e._v(" header that\ncontained an unsupported encoding. The encoding is contained in the message\nas well as in the "),s("code",[e._v("encoding")]),e._v(" property. The "),s("code",[e._v("status")]),e._v(" property is set to "),s("code",[e._v("415")]),e._v(",\nthe "),s("code",[e._v("type")]),e._v(" property is set to "),s("code",[e._v("'encoding.unsupported'")]),e._v(", and the "),s("code",[e._v("encoding")]),e._v("\nproperty is set to the encoding that is unsupported.")]),e._v(" "),s("h2",{attrs:{id:"examples"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),s("h3",{attrs:{id:"express-connect-top-level-generic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#express-connect-top-level-generic"}},[e._v("#")]),e._v(" Express/Connect top-level generic")]),e._v(" "),s("p",[e._v("This example demonstrates adding a generic JSON and URL-encoded parser as a\ntop-level middleware, which will parse the bodies of all incoming requests.\nThis is the simplest setup.")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" express "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'express'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" bodyParser "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'body-parser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("express")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// parse application/x-www-form-urlencoded")]),e._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("urlencoded")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" extended"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// parse application/json")]),e._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("setHeader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Content-Type'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'text/plain'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n  res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("write")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'you posted:\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n  res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[e._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br")])]),s("h3",{attrs:{id:"express-route-specific"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#express-route-specific"}},[e._v("#")]),e._v(" Express route-specific")]),e._v(" "),s("p",[e._v("This example demonstrates adding body parsers specifically to the routes that\nneed them. In general, this is the most recommended way to use body-parser with\nExpress.")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" express "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'express'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" bodyParser "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'body-parser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("express")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// create application/json parser")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" jsonParser "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// create application/x-www-form-urlencoded parser")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" urlencodedParser "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("urlencoded")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" extended"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// POST /login gets urlencoded bodies")]),e._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("post")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/login'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" urlencodedParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("send")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'welcome, '")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),e._v(" req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("username"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// POST /api/users gets JSON bodies")]),e._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("post")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/api/users'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" jsonParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// create user in req.body")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br")])]),s("h3",{attrs:{id:"change-accepted-type-for-parsers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#change-accepted-type-for-parsers"}},[e._v("#")]),e._v(" Change accepted type for parsers")]),e._v(" "),s("p",[e._v("All the parsers accept a "),s("code",[e._v("type")]),e._v(" option which allows you to change the\n"),s("code",[e._v("Content-Type")]),e._v(" that the middleware will parse.")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" express "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'express'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" bodyParser "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'body-parser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("express")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// parse various different custom JSON types as JSON")]),e._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" type"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'application/*+json'")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// parse some custom thing into a Buffer")]),e._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("raw")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" type"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'application/vnd.custom-type'")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// parse an HTML body into a string")]),e._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("text")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" type"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'text/html'")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br")])]),s("h2",{attrs:{id:"license"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#license"}},[e._v("#")]),e._v(" License")]),e._v(" "),s("p",[s("a",{attrs:{href:"LICENSE"}},[e._v("MIT")])])])}),[],!1,null,null,null);t.default=n.exports}}]);