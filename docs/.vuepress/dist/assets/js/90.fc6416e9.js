(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{479:function(e,t,s){"use strict";s.r(t);var a=s(45),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"depd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#depd"}},[e._v("#")]),e._v(" depd")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://npmjs.org/package/depd",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/v/depd.svg",alt:"NPM Version"}}),s("OutboundLink")],1),e._v(" "),s("a",{attrs:{href:"https://npmjs.org/package/depd",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/dm/depd.svg",alt:"NPM Downloads"}}),s("OutboundLink")],1),e._v(" "),s("a",{attrs:{href:"https://nodejs.org/en/download/",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/node/v/depd.svg",alt:"Node.js Version"}}),s("OutboundLink")],1),e._v(" "),s("a",{attrs:{href:"https://travis-ci.org/dougwilson/nodejs-depd",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/travis/dougwilson/nodejs-depd/master.svg?label=linux",alt:"Linux Build"}}),s("OutboundLink")],1),e._v(" "),s("a",{attrs:{href:"https://ci.appveyor.com/project/dougwilson/nodejs-depd",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/appveyor/ci/dougwilson/nodejs-depd/master.svg?label=windows",alt:"Windows Build"}}),s("OutboundLink")],1),e._v(" "),s("a",{attrs:{href:"https://coveralls.io/r/dougwilson/nodejs-depd?branch=master",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/coveralls/dougwilson/nodejs-depd/master.svg",alt:"Coverage Status"}}),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("Deprecate all the things")]),e._v(" "),s("blockquote",[s("p",[e._v("With great modules comes great responsibility; mark things deprecated!")])]),e._v(" "),s("h2",{attrs:{id:"install"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install"}},[e._v("#")]),e._v(" Install")]),e._v(" "),s("p",[e._v("This module is installed directly using "),s("code",[e._v("npm")]),e._v(":")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[e._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" depd\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("This module can also be bundled with systems like\n"),s("a",{attrs:{href:"http://browserify.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Browserify"),s("OutboundLink")],1),e._v(" or "),s("a",{attrs:{href:"https://webpack.github.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("webpack"),s("OutboundLink")],1),e._v(",\nthough by default this module will alter it's API to no longer display or\ntrack deprecations.")]),e._v(" "),s("h2",{attrs:{id:"api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[e._v("#")]),e._v(" API")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" deprecate "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'depd'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'my-module'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("This library allows you to display deprecation messages to your users.\nThis library goes above and beyond with deprecation warnings by\nintrospection of the call stack (but only the bits that it is interested\nin).")]),e._v(" "),s("p",[e._v("Instead of just warning on the first invocation of a deprecated\nfunction and never again, this module will warn on the first invocation\nof a deprecated function per unique call site, making it ideal to alert\nusers of all deprecated uses across the code base, rather than just\nwhatever happens to execute first.")]),e._v(" "),s("p",[e._v("The deprecation warnings from this module also include the file and line\ninformation for the call into the module that the deprecated function was\nin.")]),e._v(" "),s("p",[s("strong",[e._v("NOTE")]),e._v(" this library has a similar interface to the "),s("code",[e._v("debug")]),e._v(" module, and\nthis module uses the calling file to get the boundary for the call stacks,\nso you should always create a new "),s("code",[e._v("deprecate")]),e._v(" object in each file and not\nwithin some central file.")]),e._v(" "),s("h3",{attrs:{id:"depd-namespace"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#depd-namespace"}},[e._v("#")]),e._v(" depd(namespace)")]),e._v(" "),s("p",[e._v("Create a new deprecate function that uses the given namespace name in the\nmessages and will display the call site prior to the stack entering the\nfile this function was called from. It is highly suggested you use the\nname of your module as the namespace.")]),e._v(" "),s("h3",{attrs:{id:"deprecate-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deprecate-message"}},[e._v("#")]),e._v(" deprecate(message)")]),e._v(" "),s("p",[e._v("Call this function from deprecated code to display a deprecation message.\nThis message will appear once per unique caller site. Caller site is the\nfirst call site in the stack in a different file from the caller of this\nfunction.")]),e._v(" "),s("p",[e._v("If the message is omitted, a message is generated for you based on the site\nof the "),s("code",[e._v("deprecate()")]),e._v(" call and will display the name of the function called,\nsimilar to the name displayed in a stack trace.")]),e._v(" "),s("h3",{attrs:{id:"deprecate-function-fn-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deprecate-function-fn-message"}},[e._v("#")]),e._v(" deprecate.function(fn, message)")]),e._v(" "),s("p",[e._v("Call this function to wrap a given function in a deprecation message on any\ncall to the function. An optional message can be supplied to provide a custom\nmessage.")]),e._v(" "),s("h3",{attrs:{id:"deprecate-property-obj-prop-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deprecate-property-obj-prop-message"}},[e._v("#")]),e._v(" deprecate.property(obj, prop, message)")]),e._v(" "),s("p",[e._v("Call this function to wrap a given property on object in a deprecation message\non any accessing or setting of the property. An optional message can be supplied\nto provide a custom message.")]),e._v(" "),s("p",[e._v("The method must be called on the object where the property belongs (not\ninherited from the prototype).")]),e._v(" "),s("p",[e._v("If the property is a data descriptor, it will be converted to an accessor\ndescriptor in order to display the deprecation message.")]),e._v(" "),s("h3",{attrs:{id:"process-on-deprecation-fn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#process-on-deprecation-fn"}},[e._v("#")]),e._v(" process.on('deprecation', fn)")]),e._v(" "),s("p",[e._v('This module will allow easy capturing of deprecation errors by emitting the\nerrors as the type "deprecation" on the global '),s("code",[e._v("process")]),e._v(". If there are no\nlisteners for this type, the errors are written to STDERR as normal, but if\nthere are any listeners, nothing will be written to STDERR and instead only\nemitted. From there, you can write the errors in a different format or to a\nlogging source.")]),e._v(" "),s("p",[e._v("The error represents the deprecation and is emitted only once with the same\nrules as writing to STDERR. The error has the following properties:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("message")]),e._v(" - This is the message given by the library")]),e._v(" "),s("li",[s("code",[e._v("name")]),e._v(" - This is always "),s("code",[e._v("'DeprecationError'")])]),e._v(" "),s("li",[s("code",[e._v("namespace")]),e._v(" - This is the namespace the deprecation came from")]),e._v(" "),s("li",[s("code",[e._v("stack")]),e._v(" - This is the stack of the call to the deprecated thing")])]),e._v(" "),s("p",[e._v("Example "),s("code",[e._v("error.stack")]),e._v(" output:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("DeprecationError: my-cool-module deprecated oldfunction\n    at Object.<anonymous> ([eval]-wrapper:6:22)\n    at Module._compile (module.js:456:26)\n    at evalScript (node.js:532:25)\n    at startup (node.js:80:7)\n    at node.js:902:3\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])]),s("h3",{attrs:{id:"process-env-no-deprecation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#process-env-no-deprecation"}},[e._v("#")]),e._v(" process.env.NO_DEPRECATION")]),e._v(" "),s("p",[e._v("As a user of modules that are deprecated, the environment variable "),s("code",[e._v("NO_DEPRECATION")]),e._v("\nis provided as a quick solution to silencing deprecation warnings from being\noutput. The format of this is similar to that of "),s("code",[e._v("DEBUG")]),e._v(":")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[e._v("$ "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("NO_DEPRECATION")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("my-module,othermod node app.js\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v('This will suppress deprecations from being output for "my-module" and "othermod".\nThe value is a list of comma-separated namespaces. To suppress every warning\nacross all namespaces, use the value '),s("code",[e._v("*")]),e._v(" for a namespace.")]),e._v(" "),s("p",[e._v("Providing the argument "),s("code",[e._v("--no-deprecation")]),e._v(" to the "),s("code",[e._v("node")]),e._v(" executable will suppress\nall deprecations (only available in Node.js 0.8 or higher).")]),e._v(" "),s("p",[s("strong",[e._v("NOTE")]),e._v(' This will not suppress the deperecations given to any "deprecation"\nevent listeners, just the output to STDERR.')]),e._v(" "),s("h3",{attrs:{id:"process-env-trace-deprecation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#process-env-trace-deprecation"}},[e._v("#")]),e._v(" process.env.TRACE_DEPRECATION")]),e._v(" "),s("p",[e._v("As a user of modules that are deprecated, the environment variable "),s("code",[e._v("TRACE_DEPRECATION")]),e._v("\nis provided as a solution to getting more detailed location information in deprecation\nwarnings by including the entire stack trace. The format of this is the same as\n"),s("code",[e._v("NO_DEPRECATION")]),e._v(":")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[e._v("$ "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("TRACE_DEPRECATION")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("my-module,othermod node app.js\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v('This will include stack traces for deprecations being output for "my-module" and\n"othermod". The value is a list of comma-separated namespaces. To trace every\nwarning across all namespaces, use the value '),s("code",[e._v("*")]),e._v(" for a namespace.")]),e._v(" "),s("p",[e._v("Providing the argument "),s("code",[e._v("--trace-deprecation")]),e._v(" to the "),s("code",[e._v("node")]),e._v(" executable will trace\nall deprecations (only available in Node.js 0.8 or higher).")]),e._v(" "),s("p",[s("strong",[e._v("NOTE")]),e._v(" This will not trace the deperecations silenced by "),s("code",[e._v("NO_DEPRECATION")]),e._v(".")]),e._v(" "),s("h2",{attrs:{id:"display"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#display"}},[e._v("#")]),e._v(" Display")]),e._v(" "),s("p",[s("img",{attrs:{src:"files/message.png",alt:"message"}})]),e._v(" "),s("p",[e._v("When a user calls a function in your library that you mark deprecated, they\nwill see the following written to STDERR (in the given colors, similar colors\nand layout to the "),s("code",[e._v("debug")]),e._v(" module):")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('bright cyan    bright yellow\n|              |          reset       cyan\n|              |          |           |\n▼              ▼          ▼           ▼\nmy-cool-module deprecated oldfunction [eval]-wrapper:6:22\n▲              ▲          ▲           ▲\n|              |          |           |\nnamespace      |          |           location of mycoolmod.oldfunction() call\n               |          deprecation message\n               the word "deprecated"\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br")])]),s("p",[e._v("If the user redirects their STDERR to a file or somewhere that does not support\ncolors, they see (similar layout to the "),s("code",[e._v("debug")]),e._v(" module):")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('Sun, 15 Jun 2014 05:21:37 GMT my-cool-module deprecated oldfunction at [eval]-wrapper:6:22\n▲                             ▲              ▲          ▲              ▲\n|                             |              |          |              |\ntimestamp of message          namespace      |          |             location of mycoolmod.oldfunction() call\n                                             |          deprecation message\n                                             the word "deprecated"\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])]),s("h2",{attrs:{id:"examples"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),s("h3",{attrs:{id:"deprecating-all-calls-to-a-function"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deprecating-all-calls-to-a-function"}},[e._v("#")]),e._v(" Deprecating all calls to a function")]),e._v(" "),s("p",[e._v('This will display a deprecated message about "oldfunction" being deprecated\nfrom "my-module" on STDERR.')]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" deprecate "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'depd'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'my-cool-module'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// message automatically derived from function name")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Object.oldfunction")]),e._v("\nexports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("oldfunction "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" deprecate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("oldfunction")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// all calls to function are deprecated")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// specific message")]),e._v("\nexports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("oldfunction "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" deprecate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// all calls to function are deprecated")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'oldfunction'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br")])]),s("h3",{attrs:{id:"conditionally-deprecating-a-function-call"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#conditionally-deprecating-a-function-call"}},[e._v("#")]),e._v(" Conditionally deprecating a function call")]),e._v(" "),s("p",[e._v('This will display a deprecated message about "weirdfunction" being deprecated\nfrom "my-module" on STDERR when called with less than 2 arguments.')]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" deprecate "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'depd'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'my-cool-module'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\nexports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[e._v("weirdfunction")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("arguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// calls with 0 or 1 args are deprecated")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("deprecate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'weirdfunction args < 2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br")])]),s("p",[e._v("When calling "),s("code",[e._v("deprecate")]),e._v(" as a function, the warning is counted per call site\nwithin your own module, so you can display different deprecations depending\non different situations and the users will still get all the warnings:")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" deprecate "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'depd'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'my-cool-module'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\nexports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[e._v("weirdfunction")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("arguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// calls with 0 or 1 args are deprecated")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("deprecate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'weirdfunction args < 2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("else")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("typeof")]),e._v(" arguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!==")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'string'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// calls with non-string first argument are deprecated")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("deprecate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'weirdfunction non-string first arg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br")])]),s("h3",{attrs:{id:"deprecating-property-access"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deprecating-property-access"}},[e._v("#")]),e._v(" Deprecating property access")]),e._v(" "),s("p",[e._v('This will display a deprecated message about "oldprop" being deprecated\nfrom "my-module" on STDERR when accessed. A deprecation will be displayed\nwhen setting the value and when getting the value.')]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" deprecate "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'depd'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'my-cool-module'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\nexports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("oldprop "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'something'")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// message automatically derives from property name")]),e._v("\ndeprecate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("exports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'oldprop'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// explicit message")]),e._v("\ndeprecate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("exports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'oldprop'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'oldprop >= 0.10'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br")])]),s("h2",{attrs:{id:"license"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#license"}},[e._v("#")]),e._v(" License")]),e._v(" "),s("p",[s("a",{attrs:{href:"LICENSE"}},[e._v("MIT")])])])}),[],!1,null,null,null);t.default=n.exports}}]);