


### TCP & UDP

| TCP（传输控制协议）       | UDP （用户数据报协议）                    |                                                              |
| ------------------------- | ----------------------------------------- | ------------------------------------------------------------ |
| 面向连接                  | 无连接                                    | 面向连接意味着可靠，同时开销（TCP三次握手，四次挥手）也大（取舍） |
| 同一个TCP连接只能是一对一 | 同一个UDP连接，支持一对一，一对多，多对多 |                                                              |
| 提供可靠交付服务          | 尽最大努力的交付                          |                                                              |
| 面向字节流                | 面向报文                                  | 面向报文意味着，应用层交付给UDP多长的报文，UDP就发送多长的报文。面向字节流意味着，TCP会把报文切分成合适大小的字节流数据块，每次发送一个数据块。 |
| 具备拥塞控制              | 无                                        |                                                              |
| 题从全双工通信            | 首部字段开销小                            | 全双工：一个TCP连接同时可以接受和发送数据                    |
|                           |                                           |                                                              |

### TCP连接过程 三次握手

> 目的：确保client和server都可以正常的接收和发送数据，做好前期准备

![image-20211111121947732](/Users/bobtang/Library/Application Support/typora-user-images/image-20211111121947732.png)



![image-20211111121935366](/Users/bobtang/Library/Application Support/typora-user-images/image-20211111121935366.png)

### TCP断开过程 四次挥手

![image-20211111122007909](/Users/bobtang/Library/Application Support/typora-user-images/image-20211111122007909.png)





 